[gd_scene load_steps=26 format=3 uid="uid://c8n1llsvvhonb"]

[ext_resource type="MeshLibrary" uid="uid://uso6cfmk5r51" path="res://tileset white.tres" id="1_mdjaj"]
[ext_resource type="Script" uid="uid://7pao6hs651jh" path="res://scripts/EnemyController.gd" id="2_g1pjd"]
[ext_resource type="Script" uid="uid://qwci85k0novh" path="res://scripts/ChestManager.gd" id="2_uvgea"]
[ext_resource type="Script" uid="uid://kf1ly5o4evhs" path="res://scripts/SpawnId.gd" id="3_w2sle"]
[ext_resource type="Script" uid="uid://b06vmgrh4qa8i" path="res://gear/Item.gd" id="4_0wmue"]
[ext_resource type="Script" uid="uid://djh7svb2aijp2" path="res://scripts/Chest.gd" id="5_ktguo"]
[ext_resource type="Resource" uid="uid://bytf4k3v782d2" path="res://gear/weapon/templates/2_iron/Axe.tres" id="5_s27v5"]
[ext_resource type="Script" uid="uid://bwn4gpkaijqsg" path="res://scripts/CharacterResource.gd" id="6_bgo3i"]
[ext_resource type="Resource" uid="uid://dxgrsck30ncu7" path="res://gear/weapon/templates/1_wood/Axe.tres" id="6_g2q70"]
[ext_resource type="Script" uid="uid://dbfiub7761eey" path="res://scripts/triggerables/MapTransitionTriggerable.gd" id="7_lk5gk"]
[ext_resource type="PackedScene" uid="uid://dphnv8sgmui72" path="res://maps/crypt/crypt.tscn" id="7_uvgea"]
[ext_resource type="Resource" uid="uid://8ufc6fbnjad8" path="res://trap/_traps/PoisonTrap.tres" id="8_g2q70"]
[ext_resource type="Script" uid="uid://i6llluly1w8" path="res://scripts/MapData.gd" id="8_uo6qj"]
[ext_resource type="Script" uid="uid://8n2g1of6dlbp" path="res://scripts/interactables/RestAreaInteractable.gd" id="9_kjsaj"]
[ext_resource type="PackedScene" uid="uid://cxxgmoys7ineo" path="res://scenes/ChestBasic.tscn" id="9_lk5gk"]
[ext_resource type="PackedScene" uid="uid://bg5f2e2nphlkl" path="res://scripts/interactables/Interactable.tscn" id="10_lk5gk"]
[ext_resource type="Script" uid="uid://b656vk4s4jm03" path="res://scripts/triggerables/EventTriggerable.gd" id="11_bgo3i"]

[sub_resource type="NavigationMesh" id="NavigationMesh_g2q70"]
vertices = PackedVector3Array(-2.5, 0.02, -1.25, -2, 0.02, -1.5, -3, 0.02, -6.75, -6, 0.02, -6.75, -2.5, 0.02, 6.25, -18.25, 0.02, -8.25, -18.25, 0.02, 6.25, -6.25, 0.02, -8.25, -1, 0.02, -8.25, -2.5, 0.02, -8.25, -2.5, 0.02, -7, -0.75, 0.02, -7, 1.25, 0.02, -6.75, 0.5, 0.02, -1.25, 2.5, 0.02, -1.5, 1, 0.02, -7.25, -0.25, 0.02, -1.25, -0.25, 0.02, 2.5, 0.5, 0.02, 2.5, 2.5, 0.02, -6.75)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(0, 4, 3), PackedInt32Array(3, 4, 6), PackedInt32Array(3, 6, 5), PackedInt32Array(5, 7, 3), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(11, 12, 2), PackedInt32Array(2, 12, 1), PackedInt32Array(1, 12, 13), PackedInt32Array(13, 12, 14), PackedInt32Array(12, 11, 15), PackedInt32Array(2, 10, 11), PackedInt32Array(13, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(12, 19, 14), PackedInt32Array(13, 16, 1)]
cell_height = 0.01

[sub_resource type="Resource" id="Resource_s27v5"]
script = ExtResource("5_ktguo")
id = "starting_area_chest_02"
trapped = true
trap = ExtResource("8_g2q70")
items = Array[ExtResource("4_0wmue")]([ExtResource("5_s27v5"), ExtResource("6_g2q70")])
metadata/_custom_type_script = "uid://djh7svb2aijp2"

[sub_resource type="Resource" id="Resource_0wmue"]
script = ExtResource("8_uo6qj")
id = "crypt_00"
data = ExtResource("7_uvgea")

[sub_resource type="BoxShape3D" id="BoxShape3D_g1pjd"]

[sub_resource type="BoxShape3D" id="BoxShape3D_lk5gk"]

[sub_resource type="BoxMesh" id="BoxMesh_lk5gk"]

[sub_resource type="BoxShape3D" id="BoxShape3D_bgo3i"]

[sub_resource type="Environment" id="Environment_kjsaj"]
background_energy_multiplier = 0.28
ambient_light_energy = 1.14
fog_enabled = true
fog_light_color = Color(0.501114, 0.536127, 0.591149, 1)
fog_light_energy = 0.85
fog_density = 0.0283
fog_sky_affect = 0.0

[node name="NavigationRegion3D" type="NavigationRegion3D"]
navigation_mesh = SubResource("NavigationMesh_g2q70")

[node name="StartingArea" type="GridMap" parent="."]
mesh_library = ExtResource("1_mdjaj")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(65535, 0, 1048576, 65535, 65535, 1048576, 0, 0, 1441792, 0, 65535, 1441792, 65535, 2, 655361, 0, 2, 1441793, 65535, 1, 1048576, 0, 1, 1441792, 65534, 65527, 0, 65534, 65528, 2, 65534, 65529, 2, 65534, 65530, 2, 65534, 65531, 2, 65534, 65532, 2, 65534, 65533, 2, 65534, 65534, 655360, 65535, 65527, 0, 65535, 65528, 2, 65535, 65529, 2, 65535, 65530, 2, 65535, 65531, 2, 65535, 65532, 2, 65535, 65533, 2, 65535, 65534, 655363, 0, 65527, 0, 0, 65528, 2, 0, 65529, 2, 0, 65530, 2, 0, 65531, 2, 0, 65532, 2, 0, 65533, 2, 0, 65534, 1441795, 1, 65527, 0, 1, 65528, 2, 1, 65529, 2, 1, 65530, 2, 1, 65531, 2, 1, 65532, 2, 1, 65533, 2, 1, 65534, 655360, 2, 65527, 1, 2, 65528, 1441792, 2, 65529, 1441792, 2, 65530, 1441792, 2, 65531, 1441792, 2, 65532, 1441792, 2, 65533, 1441792, 2, 65534, 1441793, 65533, 65527, 0, 65532, 65527, 0, 65531, 65527, 0, 65530, 65527, 0, 65529, 65527, 0, 65528, 65527, 0, 65527, 65527, 0, 65526, 65527, 0, 65525, 65527, 0, 65524, 65527, 0, 65523, 65527, 0, 65533, 65534, 1441795, 65533, 65535, 1441792, 65533, 0, 1441792, 65533, 1, 1441792, 65533, 2, 1441792, 65533, 3, 1441792, 65533, 4, 1441792, 65533, 5, 1441792, 65533, 6, 1441793, 65532, 6, 655360, 65531, 6, 655360, 65530, 6, 655360, 65529, 6, 655360, 65528, 6, 655360, 65527, 6, 655360, 65526, 6, 655360, 65525, 6, 655360, 65524, 6, 655360, 65523, 6, 655360, 65522, 6, 655360, 65521, 6, 655360, 65520, 6, 655360, 65519, 6, 655360, 65518, 6, 655360, 65517, 6, 655361, 65517, 5, 1048576, 65517, 4, 1048576, 65517, 3, 1048576, 65517, 2, 1048576, 65517, 1, 1048576, 65517, 0, 1048576, 65517, 65535, 1048576, 65517, 65534, 1048576, 65517, 65533, 1048576, 65517, 65532, 1048576, 65517, 65531, 1048576, 65517, 65530, 1048576, 65517, 65529, 1048576, 65517, 65528, 1048576, 65517, 65527, 1048577, 65518, 65527, 0, 65519, 65527, 0, 65520, 65527, 0, 65521, 65527, 0, 65522, 65527, 0, 65526, 1, 1441794, 65518, 65528, 1441794, 65518, 65529, 1441794, 65518, 65530, 1441794, 65518, 65531, 1441794, 65518, 65532, 1441794, 65518, 65533, 1441794, 65518, 65534, 1441794, 65518, 65535, 1441794, 65518, 0, 1441794, 65518, 1, 1441794, 65518, 2, 1441794, 65518, 3, 1441794, 65518, 4, 1441794, 65518, 5, 1441794, 65519, 65528, 1441794, 65519, 65529, 1441794, 65519, 65530, 1441794, 65519, 65531, 1441794, 65519, 65532, 1441794, 65519, 65533, 1441794, 65519, 65534, 1441794, 65519, 65535, 1441794, 65519, 0, 1441794, 65519, 1, 1441794, 65519, 2, 1441794, 65519, 3, 1441794, 65519, 4, 1441794, 65519, 5, 1441794, 65520, 65528, 1441794, 65520, 65529, 1441794, 65520, 65530, 1441794, 65520, 65531, 1441794, 65520, 65532, 1441794, 65520, 65533, 1441794, 65520, 65534, 1441794, 65520, 65535, 1441794, 65520, 0, 1441794, 65520, 1, 1441794, 65520, 2, 1441794, 65520, 3, 1441794, 65520, 4, 1441794, 65520, 5, 1441794, 65521, 65528, 1441794, 65521, 65529, 1441794, 65521, 65530, 1441794, 65521, 65531, 1441794, 65521, 65532, 1441794, 65521, 65533, 1441794, 65521, 65534, 1441794, 65521, 65535, 1441794, 65521, 0, 1441794, 65521, 1, 1441794, 65521, 2, 1441794, 65521, 3, 1441794, 65521, 4, 1441794, 65521, 5, 1441794, 65522, 65528, 1441794, 65522, 65529, 1441794, 65522, 65530, 1441794, 65522, 65531, 1441794, 65522, 65532, 1441794, 65522, 65533, 1441794, 65522, 65534, 1441794, 65522, 65535, 1441794, 65522, 0, 1441794, 65522, 1, 1441794, 65522, 2, 1441794, 65522, 3, 1441794, 65522, 4, 1441794, 65522, 5, 1441794, 65523, 65528, 1441794, 65523, 65529, 1441794, 65523, 65530, 1441794, 65523, 65531, 1441794, 65523, 65532, 1441794, 65523, 65533, 1441794, 65523, 65534, 1441794, 65523, 65535, 1441794, 65523, 0, 1441794, 65523, 1, 1441794, 65523, 2, 1441794, 65523, 3, 1441794, 65523, 4, 1441794, 65523, 5, 1441794, 65524, 65528, 1441794, 65524, 65529, 1441794, 65524, 65530, 1441794, 65524, 65531, 1441794, 65524, 65532, 1441794, 65524, 65533, 1441794, 65524, 65534, 1441794, 65524, 65535, 1441794, 65524, 0, 1441794, 65524, 1, 1441794, 65524, 2, 1441794, 65524, 3, 1441794, 65524, 4, 1441794, 65524, 5, 1441794, 65525, 65528, 1441794, 65525, 65529, 1441794, 65525, 65530, 1441794, 65525, 65531, 1441794, 65525, 65532, 1441794, 65525, 65533, 1441794, 65525, 65534, 1441794, 65525, 65535, 1441794, 65525, 0, 1441794, 65525, 1, 1441794, 65525, 2, 1441794, 65525, 3, 1441794, 65525, 4, 1441794, 65525, 5, 1441794, 65526, 65528, 1441794, 65526, 65529, 1441794, 65526, 65530, 1441794, 65526, 65531, 1441794, 65526, 65532, 1441794, 65526, 65533, 1441794, 65526, 65534, 1441794, 65526, 65535, 1441794, 65526, 0, 1441794, 65526, 2, 1441794, 65526, 3, 1441794, 65526, 4, 1441794, 65526, 5, 1441794, 65527, 65528, 1441794, 65527, 65529, 1441794, 65527, 65530, 1441794, 65527, 65531, 1441794, 65527, 65532, 1441794, 65527, 65533, 1441794, 65527, 65534, 1441794, 65527, 65535, 1441794, 65527, 0, 1441794, 65527, 1, 1441794, 65527, 2, 1441794, 65527, 3, 1441794, 65527, 4, 1441794, 65527, 5, 1441794, 65528, 65528, 1441794, 65528, 65529, 1441794, 65528, 65530, 1441794, 65528, 65531, 1441794, 65528, 65532, 1441794, 65528, 65533, 1441794, 65528, 65534, 1441794, 65528, 65535, 1441794, 65528, 0, 1441794, 65528, 1, 1441794, 65528, 2, 1441794, 65528, 3, 1441794, 65528, 4, 1441794, 65528, 5, 1441794, 65529, 65528, 1441794, 65529, 65529, 1441794, 65529, 65530, 1441794, 65529, 65531, 1441794, 65529, 65532, 1441794, 65529, 65533, 1441794, 65529, 65534, 1441794, 65529, 65535, 1441794, 65529, 0, 1441794, 65529, 1, 1441794, 65529, 2, 1441794, 65529, 3, 1441794, 65529, 4, 1441794, 65529, 5, 1441794, 65530, 65528, 1441794, 65530, 65529, 1441794, 65530, 65530, 1441794, 65530, 65531, 1441794, 65530, 65532, 1441794, 65530, 65533, 1441794, 65530, 65534, 1441794, 65530, 65535, 1441794, 65530, 0, 1441794, 65530, 1, 1441794, 65530, 2, 1441794, 65530, 3, 1441794, 65530, 4, 1441794, 65530, 5, 1441794, 65531, 65528, 1441794, 65531, 65529, 1441794, 65531, 65530, 1441794, 65531, 65531, 1441794, 65531, 65532, 1441794, 65531, 65533, 1441794, 65531, 65534, 1441794, 65531, 65535, 1441794, 65531, 0, 1441794, 65531, 1, 1441794, 65531, 2, 1441794, 65531, 3, 1441794, 65531, 4, 1441794, 65531, 5, 1441794, 65532, 65528, 1441794, 65532, 65529, 1441794, 65532, 65530, 1441794, 65532, 65531, 1441794, 65532, 65532, 1441794, 65532, 65533, 1441794, 65532, 65534, 1441794, 65532, 65535, 1441794, 65532, 0, 1441794, 65532, 1, 1441794, 65532, 2, 1441794, 65532, 3, 1441794, 65532, 4, 1441794, 65532, 5, 1441794, 65533, 65533, 1441794, 65533, 65532, 1441794, 65533, 65531, 1441794, 65533, 65530, 1441794, 65533, 65529, 1441794, 65533, 65528, 1441794)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Chests" type="Node" parent="StartingArea"]
script = ExtResource("2_uvgea")

[node name="ChestBasic" parent="StartingArea/Chests" instance=ExtResource("9_lk5gk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.7453785, 0.5260688, -7.930229)
id = "starting_area_chest_01"
random = true
quantity = 3

[node name="ChestBasic2" parent="StartingArea/Chests" instance=ExtResource("9_lk5gk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.0930414, 0.5260688, -7.930229)
id = "starting_area_chest_02"
quantity = 3
chest = SubResource("Resource_s27v5")

[node name="Transitions" type="Node" parent="StartingArea"]

[node name="Area3D" type="Area3D" parent="StartingArea/Transitions"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1, -8)
script = ExtResource("7_lk5gk")
map_data = SubResource("Resource_0wmue")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StartingArea/Transitions/Area3D"]
shape = SubResource("BoxShape3D_g1pjd")

[node name="Rest" type="Node" parent="StartingArea"]

[node name="Area3D" type="Area3D" parent="StartingArea/Rest"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -8)
script = ExtResource("9_kjsaj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StartingArea/Rest/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_lk5gk")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StartingArea/Rest/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("BoxMesh_lk5gk")

[node name="Interactable" type="Node" parent="StartingArea"]

[node name="Interactable" parent="StartingArea/Interactable" instance=ExtResource("10_lk5gk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -8)

[node name="Events" type="Node" parent="StartingArea"]

[node name="Area3D" type="Area3D" parent="StartingArea/Events"]
script = ExtResource("11_bgo3i")
event_id = "test_event_000"

[node name="CollisionShape3D" type="CollisionShape3D" parent="StartingArea/Events/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, -4)
shape = SubResource("BoxShape3D_bgo3i")

[node name="WorldEnvironment" type="WorldEnvironment" parent="StartingArea"]
environment = SubResource("Environment_kjsaj")

[node name="Enemies" type="Node" parent="."]
script = ExtResource("2_g1pjd")

[node name="Marker3D" type="Marker3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.6091213, 0, 6.07604)
script = ExtResource("3_w2sle")
spawn_id = "spawn_01"

[node name="Marker3D2" type="Marker3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.351437, 0, 6.4214334)
script = ExtResource("3_w2sle")
spawn_id = "spawn_02"

[node name="Marker3D3" type="Marker3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.096066, 0, -6.1178665)
script = ExtResource("3_w2sle")
spawn_id = "spawn_03"

[node name="Marker3D4" type="Marker3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.447188, 0, -5.7185793)
script = ExtResource("3_w2sle")
spawn_id = "spawn_04"
